<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1a365d" />
    <meta name="description" content="Ack St. Faith Anglican Church - Transforming Lives in Christ" />
    <title>Ack St. Faith Anglican Church</title>
    
    <!-- Favicon -->
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" sizes="any" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
    <link rel="manifest" href="%PUBLIC_URL%/site.webmanifest" />
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" media="print" onload="this.media='all'" />
    <noscript><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" /></noscript>

    <!-- Preload Font Awesome -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" /></noscript>
    
    <!-- Preload slick fonts if using slick carousel -->
    <link rel="preload" href="%PUBLIC_URL%/fonts/slick.woff" as="font" type="font/woff" crossorigin="anonymous" />
    
    <!-- Critical CSS for font display -->
    <style>
      /* System font stack as fallback */
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      }
      /* Apply fonts after they load */
      .font-loaded body {
        font-family: var(--font-primary);
      }
      .font-loaded h1, .font-loaded h2, .font-loaded h3, 
      .font-loaded h4, .font-loaded h5, .font-loaded h6 {
        font-family: var(--font-heading);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- Font Loading State Handler -->
    <script>
      // Add font-loaded class when fonts are loaded
      document.documentElement.classList.add('font-loading');
      
      // Check if fonts are already loaded
      if (document.fonts) {
        Promise.all([
          document.fonts.load('1rem "Roboto"'),
          document.fonts.load('700 1rem "Montserrat"')
        ]).then(function() {
          document.documentElement.classList.remove('font-loading');
          document.documentElement.classList.add('font-loaded');
        }).catch(function() {
          document.documentElement.classList.remove('font-loading');
        });
      } else {
        // Fallback for browsers that don't support Font Loading API
        setTimeout(function() {
          document.documentElement.classList.remove('font-loading');
          document.documentElement.classList.add('font-loaded');
        }, 2000);
      }
      
      // Fallback in case the above doesn't work
      setTimeout(function() {
        document.documentElement.classList.remove('font-loading');
        document.documentElement.classList.add('font-loaded');
      }, 3000);
    </script>
  </body>
</html>
